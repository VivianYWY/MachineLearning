{"paragraphs":[{"text":"import org.apache.spark.ml.classification.LogisticRegression\nimport org.apache.spark.ml.linalg.{Vector, Vectors}\nimport org.apache.spark.ml.param.ParamMap\nimport org.apache.spark.sql.Row","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.classification.LogisticRegression\nimport org.apache.spark.ml.linalg.{Vector, Vectors}\nimport org.apache.spark.ml.param.ParamMap\nimport org.apache.spark.sql.Row\n"}]},"apps":[],"jobName":"paragraph_1526370648194_-1945957970","id":"20180409-135658_879980143","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:7299"},{"text":"val training = spark.createDataFrame(Seq(\n    (1.0, Vectors.dense(0.0,1.1,0.1)),\n    (0.0, Vectors.dense(2.0,1.0,-1.0)),\n    (0.0, Vectors.dense(2.0,1.3,1.0)),\n    (1.0, Vectors.dense(0.0,1.2,-0.5))\n    )).toDF(\"label\",\"features\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"training: org.apache.spark.sql.DataFrame = [label: double, features: vector]\n"}]},"apps":[],"jobName":"paragraph_1526370648200_-1949805459","id":"20180410-085539_482874611","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7300"},{"text":"val lr = new LogisticRegression()\nprintln(\"LogisticRegression parameters:\\n\" + lr.explainParams() + \"\\n\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"lr: org.apache.spark.ml.classification.LogisticRegression = logreg_9c354fdc2b90\nLogisticRegression parameters:\naggregationDepth: suggested depth for treeAggregate (>= 2) (default: 2)\nelasticNetParam: the ElasticNet mixing parameter, in range [0, 1]. For alpha = 0, the penalty is an L2 penalty. For alpha = 1, it is an L1 penalty (default: 0.0)\nfamily: The name of family which is a description of the label distribution to be used in the model. Supported options: auto, binomial, multinomial. (default: auto)\nfeaturesCol: features column name (default: features)\nfitIntercept: whether to fit an intercept term (default: true)\nlabelCol: label column name (default: label)\nlowerBoundsOnCoefficients: The lower bounds on coefficients if fitting under bound constrained optimization. (undefined)\nlowerBoundsOnIntercepts: The lower bounds on intercepts if fitting under bound constrained optimization. (undefined)\nmaxIter: maximum number of iterations (>= 0) (default: 100)\npredictionCol: prediction column name (default: prediction)\nprobabilityCol: Column name for predicted class conditional probabilities. Note: Not all models output well-calibrated probability estimates! These probabilities should be treated as confidences, not precise probabilities (default: probability)\nrawPredictionCol: raw prediction (a.k.a. confidence) column name (default: rawPrediction)\nregParam: regularization parameter (>= 0) (default: 0.0)\nstandardization: whether to standardize the training features before fitting the model (default: true)\nthreshold: threshold in binary classification prediction, in range [0, 1] (default: 0.5)\nthresholds: Thresholds in multi-class classification to adjust the probability of predicting each class. Array must have length equal to the number of classes, with values > 0 excepting that at most one value may be 0. The class with largest value p/t is predicted, where p is the original probability of that class and t is the class's threshold (undefined)\ntol: the convergence tolerance for iterative algorithms (>= 0) (default: 1.0E-6)\nupperBoundsOnCoefficients: The upper bounds on coefficients if fitting under bound constrained optimization. (undefined)\nupperBoundsOnIntercepts: The upper bounds on intercepts if fitting under bound constrained optimization. (undefined)\nweightCol: weight column name. If this is not set or empty, we treat all instance weights as 1.0 (undefined)\n\n"}]},"apps":[],"jobName":"paragraph_1526370648206_-1950574957","id":"20180410-085204_2034332129","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7301"},{"text":"lr.setMaxIter(10)\n  .setRegParam(0.01)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res18: lr.type = logreg_9c354fdc2b90\n"}]},"apps":[],"jobName":"paragraph_1526370648212_-1942110481","id":"20180410-090101_1863775588","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7302"},{"text":"val model1 = lr.fit(training)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"model1: org.apache.spark.ml.classification.LogisticRegressionModel = logreg_9c354fdc2b90\n"}]},"apps":[],"jobName":"paragraph_1526370648219_-1943264728","id":"20180410-090233_70489225","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7303"},{"text":"println(\"model 1 was fit using parameters:\" + model1.parent.extractParamMap)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"model 1 was fit using parameters:{\n\tlogreg_9c354fdc2b90-aggregationDepth: 2,\n\tlogreg_9c354fdc2b90-elasticNetParam: 0.0,\n\tlogreg_9c354fdc2b90-family: auto,\n\tlogreg_9c354fdc2b90-featuresCol: features,\n\tlogreg_9c354fdc2b90-fitIntercept: true,\n\tlogreg_9c354fdc2b90-labelCol: label,\n\tlogreg_9c354fdc2b90-maxIter: 10,\n\tlogreg_9c354fdc2b90-predictionCol: prediction,\n\tlogreg_9c354fdc2b90-probabilityCol: probability,\n\tlogreg_9c354fdc2b90-rawPredictionCol: rawPrediction,\n\tlogreg_9c354fdc2b90-regParam: 0.01,\n\tlogreg_9c354fdc2b90-standardization: true,\n\tlogreg_9c354fdc2b90-threshold: 0.5,\n\tlogreg_9c354fdc2b90-tol: 1.0E-6\n}\n"}]},"apps":[],"jobName":"paragraph_1526370648224_-1959039433","id":"20180410-090307_2118343768","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7304"},{"text":"val paraMap = ParamMap(lr.maxIter -> 20)\n    .put(lr.maxIter, 30)\n    .put(lr.regParam -> 0.1, lr.threshold -> 0.55)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"paraMap: org.apache.spark.ml.param.ParamMap =\n{\n\tlogreg_9c354fdc2b90-maxIter: 30,\n\tlogreg_9c354fdc2b90-regParam: 0.1,\n\tlogreg_9c354fdc2b90-threshold: 0.55\n}\n"}]},"apps":[],"jobName":"paragraph_1526370648280_-1968273406","id":"20180410-091102_935167502","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7305"},{"text":"val paramMap2 = ParamMap(lr.probabilityCol -> \"myProbability\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"paramMap2: org.apache.spark.ml.param.ParamMap =\n{\n\tlogreg_9c354fdc2b90-probabilityCol: myProbability\n}\n"}]},"apps":[],"jobName":"paragraph_1526370648292_-1985202358","id":"20180410-090545_829038239","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7306"},{"text":"val paramMapCombined = paraMap ++ paramMap2","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"paramMapCombined: org.apache.spark.ml.param.ParamMap =\n{\n\tlogreg_9c354fdc2b90-maxIter: 30,\n\tlogreg_9c354fdc2b90-probabilityCol: myProbability,\n\tlogreg_9c354fdc2b90-regParam: 0.1,\n\tlogreg_9c354fdc2b90-threshold: 0.55\n}\n"}]},"apps":[],"jobName":"paragraph_1526370648298_-1985971856","id":"20180410-091406_906889225","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7307"},{"text":"val model2 = lr.fit(training, paramMapCombined)\nprintln(\"model 2 was fit using parameters: \" + model2.parent.extractParamMap)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"model2: org.apache.spark.ml.classification.LogisticRegressionModel = logreg_9c354fdc2b90\nmodel 2 was fit using parameters: {\n\tlogreg_9c354fdc2b90-aggregationDepth: 2,\n\tlogreg_9c354fdc2b90-elasticNetParam: 0.0,\n\tlogreg_9c354fdc2b90-family: auto,\n\tlogreg_9c354fdc2b90-featuresCol: features,\n\tlogreg_9c354fdc2b90-fitIntercept: true,\n\tlogreg_9c354fdc2b90-labelCol: label,\n\tlogreg_9c354fdc2b90-maxIter: 30,\n\tlogreg_9c354fdc2b90-predictionCol: prediction,\n\tlogreg_9c354fdc2b90-probabilityCol: myProbability,\n\tlogreg_9c354fdc2b90-rawPredictionCol: rawPrediction,\n\tlogreg_9c354fdc2b90-regParam: 0.1,\n\tlogreg_9c354fdc2b90-standardization: true,\n\tlogreg_9c354fdc2b90-threshold: 0.55,\n\tlogreg_9c354fdc2b90-tol: 1.0E-6\n}\n"}]},"apps":[],"jobName":"paragraph_1526370648303_-1987895600","id":"20180410-091437_1939622005","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7308"},{"text":"val test = spark.createDataFrame(Seq(\r\n  (1.0, Vectors.dense(-1.0, 1.5, 1.3)),\r\n  (0.0, Vectors.dense(3.0, 2.0, -0.1)),\r\n  (1.0, Vectors.dense(0.0, 2.2, -1.5))\r\n)).toDF(\"label\", \"features\")\r\n","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"test: org.apache.spark.sql.DataFrame = [label: double, features: vector]\n"}]},"apps":[],"jobName":"paragraph_1526370648309_-1979431125","id":"20180410-091609_5190044","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7309"},{"text":"model2.transform(test)\n    .select(\"features\",\"label\",\"myProbability\",\"prediction\")\n    .collect()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res21: Array[org.apache.spark.sql.Row] = Array([[-1.0,1.5,1.3],1.0,[0.05707304171034022,0.9429269582896597],1.0], [[3.0,2.0,-0.1],0.0,[0.9238522311704104,0.07614776882958961],0.0], [[0.0,2.2,-1.5],1.0,[0.10972776114779444,0.8902722388522056],1.0])\n"}]},"apps":[],"jobName":"paragraph_1526370648314_-1979815873","id":"20180410-091655_1553095501","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7310"},{"text":"model2.transform(test)\n    .select(\"features\",\"label\",\"myProbability\",\"prediction\")\n    .collect()\n    .foreach{case Row(features: Vector, label: Double, prob: Vector, prediction:Double )=>\n    println(s\"($features, $label) -> prob=$prob, prediction=$prediction\")\n    }","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"([-1.0,1.5,1.3], 1.0) -> prob=[0.05707304171034022,0.9429269582896597], prediction=1.0\n([3.0,2.0,-0.1], 0.0) -> prob=[0.9238522311704104,0.07614776882958961], prediction=0.0\n([0.0,2.2,-1.5], 1.0) -> prob=[0.10972776114779444,0.8902722388522056], prediction=1.0\n"}]},"apps":[],"jobName":"paragraph_1526370648319_-1981739618","id":"20180410-104717_226449601","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7311"},{"text":"import org.apache.spark.ml.{Pipeline, PipelineModel}\nimport org.apache.spark.ml.classification.LogisticRegression\nimport org.apache.spark.ml.feature.{HashingTF, Tokenizer}\nimport org.apache.spark.ml.linalg.Vector\nimport org.apache.spark.sql.Row\n","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.{Pipeline, PipelineModel}\nimport org.apache.spark.ml.classification.LogisticRegression\nimport org.apache.spark.ml.feature.{HashingTF, Tokenizer}\nimport org.apache.spark.ml.linalg.Vector\nimport org.apache.spark.sql.Row\n"}]},"apps":[],"jobName":"paragraph_1526370648324_-1899018604","id":"20180410-092701_490935658","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7312"},{"text":"val training = spark.createDataFrame(Seq(\r\n  (0L, \"a b c d e spark\", 1.0),\r\n  (1L, \"b d\", 0.0),\r\n  (2L, \"spark f g h\", 1.0),\r\n  (3L, \"hadoop mapreduce\", 0.0)\r\n)).toDF(\"id\", \"text\", \"label\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"training: org.apache.spark.sql.DataFrame = [id: bigint, text: string ... 1 more field]\n"}]},"apps":[],"jobName":"paragraph_1526370648376_-1906713582","id":"20180410-105505_1337351293","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7313"},{"text":"val tokenizer = new Tokenizer()\n    .setInputCol(\"text\")\n    .setOutputCol(\"words\")\nval hashingTF = new HashingTF()\n    .setNumFeatures(1000)\n    .setInputCol(tokenizer.getOutputCol)\n    .setOutputCol(\"features\")\nval lr = new LogisticRegression()\n    .setMaxIter(10)\n    .setRegParam(0.01)\nval pipeline = new Pipeline()\n    .setStages(Array(tokenizer, hashingTF, lr))\n\n","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"tokenizer: org.apache.spark.ml.feature.Tokenizer = tok_4dd5e47efbd4\nhashingTF: org.apache.spark.ml.feature.HashingTF = hashingTF_e2264729572e\nlr: org.apache.spark.ml.classification.LogisticRegression = logreg_878969f00843\npipeline: org.apache.spark.ml.Pipeline = pipeline_303db83aa497\n"}]},"apps":[],"jobName":"paragraph_1526370648384_-1922103538","id":"20180410-105550_476483236","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7314"},{"text":"val model = pipeline.fit(training)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"model: org.apache.spark.ml.PipelineModel = pipeline_303db83aa497\n"}]},"apps":[],"jobName":"paragraph_1526370648391_-1923257785","id":"20180410-110126_735461148","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7315"},{"text":"val test = spark.createDataFrame(Seq(\r\n  (4L, \"spark i j k\"),\r\n  (5L, \"l m n\"),\r\n  (6L, \"mapreduce spark\"),\r\n  (7L, \"apache hadoop\")\r\n)).toDF(\"id\", \"text\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"test: org.apache.spark.sql.DataFrame = [id: bigint, text: string]\n"}]},"apps":[],"jobName":"paragraph_1526370648398_-1925951027","id":"20180410-110159_1958537321","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7316"},{"text":"model.transform(test)\r\n  .select(\"id\", \"text\", \"probability\", \"prediction\")\r\n  .collect()\r\n  .foreach { case Row(id: Long, text: String, prob: Vector, prediction: Double) =>\r\n    println(s\"($id, $text) --> prob=$prob, prediction=$prediction\")\r\n  }","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(4, spark i j k) --> prob=[0.540643354485232,0.45935664551476796], prediction=0.0\n(5, l m n) --> prob=[0.9334382627383527,0.06656173726164716], prediction=0.0\n(6, mapreduce spark) --> prob=[0.7799076868204325,0.22009231317956743], prediction=0.0\n(7, apache hadoop) --> prob=[0.9768636139518375,0.02313638604816238], prediction=0.0\n"}]},"apps":[],"jobName":"paragraph_1526370648405_-1917871300","id":"20180410-110310_1086663064","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7317"},{"text":"import org.apache.spark.ml.feature.{HashingTF, IDF, Tokenizer}","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.feature.{HashingTF, IDF, Tokenizer}\n"}]},"apps":[],"jobName":"paragraph_1526370648411_-1918640798","id":"20180410-110742_318060427","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7318"},{"text":"val sentenceData = spark.createDataFrame(Seq(\r\n  (0, \"Hi I heard about Spark\"),\r\n  (0, \"I wish Java could use case classes\"),\r\n  (1, \"Logistic regression models are neat\")\r\n)).toDF(\"label\", \"sentence\")\r\n","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"sentenceData: org.apache.spark.sql.DataFrame = [label: int, sentence: string]\n"}]},"apps":[],"jobName":"paragraph_1526370648416_-1934415503","id":"20180410-112728_1009184488","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7319"},{"text":"val tokenizer = new Tokenizer().setInputCol(\"sentence\").setOutputCol(\"words\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"tokenizer: org.apache.spark.ml.feature.Tokenizer = tok_5735e9c941bb\n"}]},"apps":[],"jobName":"paragraph_1526370648422_-1935185001","id":"20180410-112831_1644724034","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7320"},{"text":"val wordsData = tokenizer.transform(sentenceData)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"wordsData: org.apache.spark.sql.DataFrame = [label: int, sentence: string ... 1 more field]\n"}]},"apps":[],"jobName":"paragraph_1526370648477_-1847077503","id":"20180410-112928_843722201","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7321"},{"text":"wordsData.show()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+--------------------+--------------------+\n|label|            sentence|               words|\n+-----+--------------------+--------------------+\n|    0|Hi I heard about ...|[hi, i, heard, ab...|\n|    0|I wish Java could...|[i, wish, java, c...|\n|    1|Logistic regressi...|[logistic, regres...|\n+-----+--------------------+--------------------+\n\n"}]},"apps":[],"jobName":"paragraph_1526370648483_-1860158965","id":"20180410-112955_755566073","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7322"},{"dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1526370648489_-1864006454","id":"20180410-120721_734373753","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7323"},{"text":"val hashingTF = new HashingTF().setInputCol(\"words\").setOutputCol(\"rawFeatures\").setNumFeatures(29)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"hashingTF: org.apache.spark.ml.feature.HashingTF = hashingTF_abc69190f336\n"}]},"apps":[],"jobName":"paragraph_1526370648495_-1864775952","id":"20180410-113040_578302752","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7324"},{"text":"val featurizedData = hashingTF.transform(wordsData)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"featurizedData: org.apache.spark.sql.DataFrame = [label: int, sentence: string ... 2 more fields]\n"}]},"apps":[],"jobName":"paragraph_1526370648500_-1855926728","id":"20180410-113221_764384243","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7325"},{"text":"featurizedData.show()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{"0":{"graph":{"mode":"table","height":115,"optionOpen":false}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+--------------------+--------------------+--------------------+\n|label|            sentence|               words|         rawFeatures|\n+-----+--------------------+--------------------+--------------------+\n|    0|Hi I heard about ...|[hi, i, heard, ab...|(29,[1,4,13,20,21...|\n|    0|I wish Java could...|[i, wish, java, c...|(29,[1,4,10,14,15...|\n|    1|Logistic regressi...|[logistic, regres...|(29,[9,10,15,19,2...|\n+-----+--------------------+--------------------+--------------------+\n\n"}]},"apps":[],"jobName":"paragraph_1526370648506_-1856696225","id":"20180410-113305_698469015","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7326"},{"text":"val idf = new IDF().setInputCol(\"rawFeatures\").setOutputCol(\"features\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"idf: org.apache.spark.ml.feature.IDF = idf_ba564dbb725f\n"}]},"apps":[],"jobName":"paragraph_1526370648512_-1872855679","id":"20180410-113329_1271350181","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7327"},{"text":"val idfModel = idf.fit(featurizedData)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"idfModel: org.apache.spark.ml.feature.IDFModel = idf_ba564dbb725f\n"}]},"apps":[],"jobName":"paragraph_1526370648518_-1873625177","id":"20180410-121017_1399399449","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7328"},{"text":"val rescaleData = idfModel.transform(featurizedData)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"rescaleData: org.apache.spark.sql.DataFrame = [label: int, sentence: string ... 3 more fields]\n"}]},"apps":[],"jobName":"paragraph_1526370648524_-1877472666","id":"20180410-121044_195440796","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7329"},{"text":"rescaleData.show()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-----+--------------------+--------------------+--------------------+--------------------+\n|label|            sentence|               words|         rawFeatures|            features|\n+-----+--------------------+--------------------+--------------------+--------------------+\n|    0|Hi I heard about ...|[hi, i, heard, ab...|(29,[1,4,13,20,21...|(29,[1,4,13,20,21...|\n|    0|I wish Java could...|[i, wish, java, c...|(29,[1,4,10,14,15...|(29,[1,4,10,14,15...|\n|    1|Logistic regressi...|[logistic, regres...|(29,[9,10,15,19,2...|(29,[9,10,15,19,2...|\n+-----+--------------------+--------------------+--------------------+--------------------+\n\n"}]},"apps":[],"jobName":"paragraph_1526370648576_2102000532","id":"20180410-121152_557308340","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7330"},{"text":"import org.apache.spark.ml.feature.Word2Vec","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.feature.Word2Vec\n"}]},"apps":[],"jobName":"paragraph_1526370648580_2100461536","id":"20180410-121236_644512086","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7331"},{"text":"val documentDF = spark.createDataFrame(Seq(\r\n  \"Hi I heard about Spark\".split(\" \"),\r\n  \"I wish Java could use case classes\".split(\" \"),\r\n  \"Logistic regression models are neat\".split(\" \")\r\n).map(Tuple1.apply)).toDF(\"text\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"documentDF: org.apache.spark.sql.DataFrame = [text: array<string>]\n"}]},"apps":[],"jobName":"paragraph_1526370648584_2098922541","id":"20180410-121758_1934904751","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7332"},{"text":"documentDF.show()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+\n|                text|\n+--------------------+\n|[Hi, I, heard, ab...|\n|[I, wish, Java, c...|\n|[Logistic, regres...|\n+--------------------+\n\n"}]},"apps":[],"jobName":"paragraph_1526370648588_2097383545","id":"20180410-121812_201006654","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7333"},{"text":"val word2Vec = new Word2Vec()\n    .setInputCol(\"text\")\n    .setOutputCol(\"result\")\n    .setVectorSize(3)\n    .setMinCount(0)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"word2Vec: org.apache.spark.ml.feature.Word2Vec = w2v_086136e73394\n"}]},"apps":[],"jobName":"paragraph_1526370648591_2097768294","id":"20180410-121945_306170432","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7334"},{"text":"val model = word2Vec.fit(documentDF)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"model: org.apache.spark.ml.feature.Word2VecModel = w2v_086136e73394\n"}]},"apps":[],"jobName":"paragraph_1526370648594_2108926012","id":"20180410-122335_516430391","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7335"},{"text":"val result = model.transform(documentDF)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"result: org.apache.spark.sql.DataFrame = [text: array<string>, result: vector]\n"}]},"apps":[],"jobName":"paragraph_1526370648598_2107387017","id":"20180410-122408_1369469161","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7336"},{"text":"result.show()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+--------------------+\n|                text|              result|\n+--------------------+--------------------+\n|[Hi, I, heard, ab...|[-0.0083014253526...|\n|[I, wish, Java, c...|[0.04305013721542...|\n|[Logistic, regres...|[0.03860086202621...|\n+--------------------+--------------------+\n\n"}]},"apps":[],"jobName":"paragraph_1526370648601_2104693774","id":"20180410-122425_1442594600","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7337"},{"text":"val data = Array(\r\n  Vectors.sparse(5, Seq((1, 1.0), (3, 7.0))),\r\n  Vectors.dense(2.0, 0.0, 3.0, 4.0, 5.0),\r\n  Vectors.dense(4.0, 0.0, 0.0, 6.0, 7.0)\r\n)\r\nval df = spark.createDataFrame(data.map(Tuple1.apply)).toDF(\"features\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"data: Array[org.apache.spark.ml.linalg.Vector] = Array((5,[1,3],[1.0,7.0]), [2.0,0.0,3.0,4.0,5.0], [4.0,0.0,0.0,6.0,7.0])\ndf: org.apache.spark.sql.DataFrame = [features: vector]\n"}]},"apps":[],"jobName":"paragraph_1526370648604_2103539528","id":"20180410-122437_1239298297","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7338"},{"text":"df.show()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+\n|            features|\n+--------------------+\n| (5,[1,3],[1.0,7.0])|\n|[2.0,0.0,3.0,4.0,...|\n|[4.0,0.0,0.0,6.0,...|\n+--------------------+\n\n"}]},"apps":[],"jobName":"paragraph_1526370648607_2103924276","id":"20180410-124606_380287545","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7339"},{"text":"import org.apache.spark.ml.Pipeline\nimport org.apache.spark.ml.classification.LogisticRegression\nimport org.apache.spark.ml.evaluation.BinaryClassificationEvaluator\nimport org.apache.spark.ml.feature.{HashingTF,Tokenizer}\nimport org.apache.spark.ml.linalg.Vector\nimport org.apache.spark.ml.tuning.{CrossValidator, ParamGridBuilder}\nimport org.apache.spark.sql.Row","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.Pipeline\nimport org.apache.spark.ml.classification.LogisticRegression\nimport org.apache.spark.ml.evaluation.BinaryClassificationEvaluator\nimport org.apache.spark.ml.feature.{HashingTF, Tokenizer}\nimport org.apache.spark.ml.linalg.Vector\nimport org.apache.spark.ml.tuning.{CrossValidator, ParamGridBuilder}\nimport org.apache.spark.sql.Row\n"}]},"apps":[],"jobName":"paragraph_1526370648610_2090458065","id":"20180410-124623_1193265380","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7340"},{"text":"val training = spark.createDataFrame(Seq(\r\n  (0L, \"a b c d e spark\", 1.0),\r\n  (1L, \"b d\", 0.0),\r\n  (2L, \"spark f g h\", 1.0),\r\n  (3L, \"hadoop mapreduce\", 0.0),\r\n  (4L, \"b spark who\", 1.0),\r\n  (5L, \"g d a y\", 0.0),\r\n  (6L, \"spark fly\", 1.0),\r\n  (7L, \"was mapreduce\", 0.0),\r\n  (8L, \"e spark program\", 1.0),\r\n  (9L, \"a e c l\", 0.0),\r\n  (10L, \"spark compile\", 1.0),\r\n  (11L, \"hadoop software\", 0.0)\r\n)).toDF(\"id\", \"text\", \"label\")\r\n","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"training: org.apache.spark.sql.DataFrame = [id: bigint, text: string ... 1 more field]\n"}]},"apps":[],"jobName":"paragraph_1526370648613_2087764823","id":"20180410-134340_494691461","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7341"},{"text":"val tokenizer = new Tokenizer()\n    .setInputCol(\"text\")\n    .setOutputCol(\"words\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"tokenizer: org.apache.spark.ml.feature.Tokenizer = tok_06c186eebab7\n"}]},"apps":[],"jobName":"paragraph_1526370648616_2086610576","id":"20180410-134356_1880238347","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7342"},{"text":"val hashingTF = new HashingTF()\n    .setInputCol(tokenizer.getOutputCol)\n    .setOutputCol(\"features\")","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"hashingTF: org.apache.spark.ml.feature.HashingTF = hashingTF_ab68ce7f480f\n"}]},"apps":[],"jobName":"paragraph_1526370648619_2086995325","id":"20180410-134453_596724522","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7343"},{"text":"val lr = new LogisticRegression()\n    .setMaxIter(10)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"lr: org.apache.spark.ml.classification.LogisticRegression = logreg_922446f36f70\n"}]},"apps":[],"jobName":"paragraph_1526370648622_2085841078","id":"20180410-134547_665367482","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7344"},{"text":"val pipeline = new Pipeline()\n    .setStages(Array(tokenizer, hashingTF, lr))","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"pipeline: org.apache.spark.ml.Pipeline = pipeline_f6277fd9a282\n"}]},"apps":[],"jobName":"paragraph_1526370648625_2095459801","id":"20180410-134544_284649535","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7345"},{"text":"val paramGrid = new ParamGridBuilder()\n    .addGrid(hashingTF.numFeatures, Array(10,100,1000))\n    .addGrid(lr.regParam, Array(0.1,0.01))\n    .build()","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"paramGrid: Array[org.apache.spark.ml.param.ParamMap] =\nArray({\n\thashingTF_ab68ce7f480f-numFeatures: 10,\n\tlogreg_922446f36f70-regParam: 0.1\n}, {\n\thashingTF_ab68ce7f480f-numFeatures: 10,\n\tlogreg_922446f36f70-regParam: 0.01\n}, {\n\thashingTF_ab68ce7f480f-numFeatures: 100,\n\tlogreg_922446f36f70-regParam: 0.1\n}, {\n\thashingTF_ab68ce7f480f-numFeatures: 100,\n\tlogreg_922446f36f70-regParam: 0.01\n}, {\n\thashingTF_ab68ce7f480f-numFeatures: 1000,\n\tlogreg_922446f36f70-regParam: 0.1\n}, {\n\thashingTF_ab68ce7f480f-numFeatures: 1000,\n\tlogreg_922446f36f70-regParam: 0.01\n})\n"}]},"apps":[],"jobName":"paragraph_1526370648628_2094305554","id":"20180410-134709_2128962906","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7346"},{"text":"val cv = new CrossValidator()\n    .setEstimator(pipeline)\n    .setEvaluator(new BinaryClassificationEvaluator)\n    .setEstimatorParamMaps(paramGrid)\n    .setNumFolds(2)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"cv: org.apache.spark.ml.tuning.CrossValidator = cv_3760d84b1738\n"}]},"apps":[],"jobName":"paragraph_1526370648631_2094690303","id":"20180410-134859_934870634","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7347"},{"text":"val cvModel = cv.fit(training)","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"cvModel: org.apache.spark.ml.tuning.CrossValidatorModel = cv_3760d84b1738\n"}]},"apps":[],"jobName":"paragraph_1526370648635_2093151307","id":"20180410-135659_1254497696","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7348"},{"text":"val test = spark.createDataFrame(Seq(\r\n  (4L, \"spark i j k\"),\r\n  (5L, \"l m n\"),\r\n  (6L, \"mapreduce spark\"),\r\n  (7L, \"apache hadoop\")\r\n)).toDF(\"id\", \"text\")\r\n","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"test: org.apache.spark.sql.DataFrame = [id: bigint, text: string]\n"}]},"apps":[],"jobName":"paragraph_1526370648638_2091997061","id":"20180410-135723_1475257963","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7349"},{"text":"cvModel.transform(test)\r\n  .select(\"id\", \"text\", \"probability\", \"prediction\")\r\n  .collect()\r\n  .foreach { case Row(id: Long, text: String, prob: Vector, prediction: Double) =>\r\n    println(s\"($id, $text) --> prob=$prob, prediction=$prediction\")\r\n  }","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(4, spark i j k) --> prob=[0.25806842225846477,0.7419315777415352], prediction=1.0\n(5, l m n) --> prob=[0.9185597412653915,0.08144025873460851], prediction=0.0\n(6, mapreduce spark) --> prob=[0.4320320566391877,0.5679679433608124], prediction=1.0\n(7, apache hadoop) --> prob=[0.6766082856652201,0.3233917143347798], prediction=0.0\n"}]},"apps":[],"jobName":"paragraph_1526370648641_2076991853","id":"20180410-135746_1754232522","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7350"},{"text":"import org.apache.spark.ml.Pipeline\nimport org.apache.spark.ml.classification.DecisionTreeClassificationModel","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.Pipeline\nimport org.apache.spark.ml.classification.DecisionTreeClassificationModel\n"}]},"apps":[],"jobName":"paragraph_1526370648644_2075837607","id":"20180410-140032_1994320103","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7351"},{"text":"import org.apache.spark.ml.classification.DecisionTreeClassifier\nimport org.apache.spark.ml.evaluation.MulticlassClassificationEvaluator\nimport org.apache.spark.ml.feature.{IndexToString, StringIndexer, VectorIndexer}","dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.ml.classification.DecisionTreeClassifier\nimport org.apache.spark.ml.evaluation.MulticlassClassificationEvaluator\nimport org.apache.spark.ml.feature.{IndexToString, StringIndexer, VectorIndexer}\n"}]},"apps":[],"jobName":"paragraph_1526370648647_2076222356","id":"20180508-113812_1616802176","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7352"},{"dateUpdated":"2018-05-15T07:50:48+0000","config":{"tableHide":true,"editorSetting":{"language":"scala","editOnDblClick":false},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1526370648650_2075068109","id":"20180508-114144_866638578","dateCreated":"2018-05-15T07:50:48+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:7353"}],"name":"EE_YU/example_MachineLearning","id":"2DFRKZBEC","angularObjects":{"2CDBRM16S:shared_process":[],"2CGD9PJEV:shared_process":[],"2CEXJP4VC:shared_process":[],"2CEWFDUFC:shared_process":[],"2CCUD92DR:shared_process":[],"2CE5CMKN8:shared_process":[],"2CCT6VFHB:shared_process":[],"2CGDHC2BR:shared_process":[],"2CD5H5KA3:shared_process":[],"2CCFV6EWC:shared_process":[],"2CG8AUTUC:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}